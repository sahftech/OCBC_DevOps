<!DOCTYPE html>
<html>


<head>
    <title>Pie Chart</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <canvas id="pieChart" width="300" height="300"></canvas>

    <script>
        // Your JSON data
        var jsonData = [
            { "name": "John Tan", "nric": "S9987262X", "email": "john@gmail.com", "access": "john", "pin": "123456", "type": "Savings", "contact": 97888222, "balance": 956, "id": "1696158023514709", "transactions": [{ "datetime": "2023-11-01 10:26:40", "type": "D", "desc": "Allowance", "amount": 200 }, { "datetime": "2023-11-02 09:27:09", "type": "D", "desc": "Salary", "amount": 1200 }, { "datetime": "2023-11-03 10:23:08", "type": "W", "desc": "Holiday expenses", "amount": 400 }, { "datetime": "2023-11-03 20:46:29", "type": "D", "desc": "Allowance", "amount": 200 }, { "datetime": "2023-11-06 00:30:19", "type": "W", "desc": "Transport", "amount": 200 }, { "datetime": "2023-11-06 01:02:41", "type": "W", "desc": "Lunch - mary@gmail.com", "amount": 20 }, { "datetime": "2023-11-06 01:26:31", "type": "W", "desc": "Dinner - simon@gmail.com", "amount": 12 }, { "datetime": "2023-11-06 09:26:26", "type": "W", "desc": "Lunch - simon@gmail.com", "amount": 12 }] },
            { "name": "Mary Tan", "nric": "T0487262X", "email": "mary@gmail.com", "access": "mary", "pin": "123456", "type": "Savings", "contact": 87558845, "balance": 70, "id": "1696163580475820", "transactions": [{ "datetime": "2023-11-03 10:26:29", "type": "D", "desc": "Salary", "amount": 1000 }, { "datetime": "2023-11-03 10:30:29", "type": "W", "desc": "Shopping", "amount": 500 }, { "datetime": "2023-11-06 10:56:39", "type": "W", "desc": "Shopping", "amount": 400 }, { "datetime": "2023-11-06 14:26:19", "type": "D", "desc": "Extra cash", "amount": 50 }, { "datetime": "2023-11-07 18:56:20", "type": "W", "desc": "Dinner", "amount": 100 }, { "datetime": "2023-11-06 01:02:41", "type": "D", "desc": "Lunch - john@gmail.com", "amount": 20 }] },
            {
                "name": "Simon Tan", "nric": "S887262X", "email": "simon@gmail.com", "access": "simon", "pin": "123456", "type": "Current", "contact": 88664321, "balance": 3524, "id": "1696801780215231", "transactions": [{ "datetime": "2023-09-06 15:26:29", "type": "D", "desc": "Extra cash", "amount": 500 }, { "datetime": "2023-10-05 15:26:29", "type": "D", "desc": "Salary", "amount": 1000 }, { "datetime": "2023-11-03 15:26:29", "type": "D", "desc": "Salary", "amount": 1000 }, { "datetime": "2023-11-06 15:26:29", "type": "D", "desc": "Salary", "amount": 1000 }, { "datetime": "2023-11-06 01:26:31", "type": "D", "desc": "Dinner - john@gmail.com", "amount": 12 }, { "datetime": "2023-11-06 09:26:26", "type": "D", "desc": "Lunch - john@gmail.com", "amount": 12 }]
            }];

        // Extract spending data for each month
        var spendingByMonth = {};
        jsonData.forEach(function (entry) {
            entry.transactions.forEach(function (transaction) {
                var datetime = transaction.datetime;
                var amount = transaction.amount;
                var monthYear = datetime.split(' ')[0].slice(0, 7);

                if (!spendingByMonth[monthYear]) {
                    spendingByMonth[monthYear] = 0;
                }
                if (transaction.type === 'W') {
                    spendingByMonth[monthYear] += amount;
                }
            });
        });

        var labels = Object.keys(spendingByMonth);
        var data = labels.map(function (monthYear) {
            return spendingByMonth[monthYear];
        });

        var pieChartCanvas = document.getElementById('pieChart').getContext('2d');
        var pieChart = new Chart(pieChartCanvas, {
            type: 'pie',
            data: {
                labels: labels,
                datasets: [{
                    data: data,
                    backgroundColor: [
                        'red', 'blue', 'green', 'orange', 'purple', 'pink', 'gray'
                    ],
                }]
            },
            options: {
                title: {
                    display: true,
                    text: 'Monthly Spending Distribution'
                },
                responsive: true,
                maintainAspectRatio: false
            }
        });
    </script>
</body>

</html>

<!-- <!DOCTYPE html>
<html>

<head>
    <title>Bar Chart Example</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <canvas id="barChart" width="400" height="400"></canvas>

    <script>
        // Your JSON data
        var jsonData = [
            { "name": "John Tan", "nric": "S9987262X", "email": "john@gmail.com", "access": "john", "pin": "123456", "type": "Savings", "contact": 97888222, "balance": 956, "id": "1696158023514709", "transactions": [{ "datetime": "2023-11-01 10:26:40", "type": "D", "desc": "Allowance", "amount": 200 }, { "datetime": "2023-11-02 09:27:09", "type": "D", "desc": "Salary", "amount": 1200 }, { "datetime": "2023-11-03 10:23:08", "type": "W", "desc": "Holiday expenses", "amount": 400 }, { "datetime": "2023-11-03 20:46:29", "type": "D", "desc": "Allowance", "amount": 200 }, { "datetime": "2023-11-06 00:30:19", "type": "W", "desc": "Transport", "amount": 200 }, { "datetime": "2023-11-06 01:02:41", "type": "W", "desc": "Lunch - mary@gmail.com", "amount": 20 }, { "datetime": "2023-11-06 01:26:31", "type": "W", "desc": "Dinner - simon@gmail.com", "amount": 12 }, { "datetime": "2023-11-06 09:26:26", "type": "W", "desc": "Lunch - simon@gmail.com", "amount": 12 }] },
            { "name": "Mary Tan", "nric": "T0487262X", "email": "mary@gmail.com", "access": "mary", "pin": "123456", "type": "Savings", "contact": 87558845, "balance": 70, "id": "1696163580475820", "transactions": [{ "datetime": "2023-11-03 10:26:29", "type": "D", "desc": "Salary", "amount": 1000 }, { "datetime": "2023-11-03 10:30:29", "type": "W", "desc": "Shopping", "amount": 500 }, { "datetime": "2023-11-06 10:56:39", "type": "W", "desc": "Shopping", "amount": 400 }, { "datetime": "2023-11-06 14:26:19", "type": "D", "desc": "Extra cash", "amount": 50 }, { "datetime": "2023-11-07 18:56:20", "type": "W", "desc": "Dinner", "amount": 100 }, { "datetime": "2023-11-06 01:02:41", "type": "D", "desc": "Lunch - john@gmail.com", "amount": 20 }] },
            {
                "name": "Simon Tan", "nric": "S887262X", "email": "simon@gmail.com", "access": "simon", "pin": "123456", "type": "Current", "contact": 88664321, "balance": 3524, "id": "1696801780215231", "transactions": [{ "datetime": "2023-09-06 15:26:29", "type": "D", "desc": "Extra cash", "amount": 500 }, { "datetime": "2023-10-05 15:26:29", "type": "D", "desc": "Salary", "amount": 1000 }, { "datetime": "2023-11-03 15:26:29", "type": "D", "desc": "Salary", "amount": 1000 }, { "datetime": "2023-11-06 15:26:29", "type": "D", "desc": "Salary", "amount": 1000 }, { "datetime": "2023-11-06 01:26:31", "type": "D", "desc": "Dinner - john@gmail.com", "amount": 12 }, { "datetime": "2023-11-06 09:26:26", "type": "D", "desc": "Lunch - john@gmail.com", "amount": 12 }]
            }];

        // Extract spending data for each month
        var spendingByMonth = {};
        jsonData.forEach(function (entry) {
            entry.transactions.forEach(function (transaction) {
                var datetime = transaction.datetime;
                var amount = transaction.amount;
                var monthYear = datetime.split(' ')[0].slice(0, 7);

                if (!spendingByMonth[monthYear]) {
                    spendingByMonth[monthYear] = 0;
                }
                if (transaction.type === 'W') {
                    spendingByMonth[monthYear] += amount;
                }
            });
        });

        var labels = Object.keys(spendingByMonth);
        var data = labels.map(function (monthYear) {
            return spendingByMonth[monthYear];
        });

        // Define different colors for each bar
        var backgroundColors = [
            'red', 'blue', 'green', 'orange', 'purple', 'pink', 'gray',
            'brown', 'cyan', 'magenta', 'lime', 'teal', 'indigo', 'violet'
        ];

        // Create an array of background colors matching the number of bars
        var barBackgroundColors = backgroundColors.slice(0, data.length);

        var barChartCanvas = document.getElementById('barChart').getContext('2d');
        var barChart = new Chart(barChartCanvas, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Spending',
                    data: data,
                    backgroundColor: barBackgroundColors
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                },
                title: {
                    display: true,
                    text: 'Monthly Spending Distribution (Bar Chart)'
                }
            }
        });
    </script>
</body>

</html> -->

